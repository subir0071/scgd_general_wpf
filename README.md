# scgd_general_wpf

## 🖥️ 支持

**运行环境** NET 6.0 , VS2022 , Win11 
**分辨率**：1920x1080,100%
**项目特性**

- 支持操作系统：Win10,Win11
- 支持开机自启，项目在版本相同的情况下，不支持多开
- 支持主题模式：深色，浅色，跟随系统
- I18n：English, 简体中文，繁体中文，日本語,한국어

## 翻译API：

Google apikey  AIzaSyBElxN8V59CXS0ML-Q5YC7Do-Rza8FGawE

Baidu  AppID：20180402000142443

​            SecretKey:bTLryuKSa4vWCJLs0ECO





## 项目结构

#### ColorVision

#### ColorVision.Util

#### ColorVision.Common

#### cvColorVision

## 使用流程

#### MQTT配置

```
 "MQTTConfig": {
    "Name": "127.0.0.1_1883",
    "Host": "127.0.0.1",
    "Port": 1883,
    "UserName": "",
    "UserPwd": ""
  }
```

#### 数据库配置

```
 "MySqlConfig": {
    "Name": "127.0.0.1_3306",
    "Host": "127.0.0.1",
    "Port": 3306,
    "UserName": "root",
    "UserPwd": "123456@cv",
    "Database": "cv"
  }
```

## 流程

1、进行各种驱动、数据库、MQTT、主程序安装，初始化工作完成（包含配置文件、数据库脚本等）--------------有可能只有主程序
2、启动主程序，配置系统相关参数（包括数据库、MQTT等参数），使用管理员对用户名和租户进行建权，使用用户名进行登录（拿到对应的权限和租户）
3、在服务配置界面，根据权限（超级管理员所有功能都有）分为注册（set）或者发现（get）所有的服务，并拿到这些服务下当前的硬件资源id，并进行选择，完成服务的初始化。超级管理员还需要分配租户（现在可以视作服务）及对租户中的用户进行配置，用户可以看到自己所属租户的所有资源
4、在设备配置界面，用户根据租户拿到所有的设备，进行选择并进行初始化（其实就是独占了资源）、取别名等操作，首先验证license，完成后摆放到界面上以供使用。

### 管理员管理服务

1 .服务的增删改查（id、别名、服务参数、配置TOPIC。。）

2.设备的增删改查（id、别名、设备参数，sn , 许可证）

3.现在的用户无法进行设备的增删改查，是由管理员来分配的

### 服务操作

### 操作逻辑

初始化服务（获取所有的该服务下的SN）

服务心跳

以现在数据库中的列别来呈现设备种类

用户可以修改别名、及其相关的一些属性（设备模板绑定），以相机为例

1、初始化设备（发送协议，带SN）
2、注销设备（发送协议，带SN）
3、设备心跳	

### 主界面

根据设备配置的生成对应的界面列表，并执行对应的操作











